%h1 Tasks
- @incomplete_tasks.each do |task|
  .row.well.task{id: "task-#{task.id}", data: { running: (!!task.started_at).to_s }}

    .col-md-4
      = link_to task.title, {action: "select", format: :js, remote: true, task: task}
    .col-md-4.running_time{data: { duration: task.duration } }
      - if task.started_at
        In Progress
      - elsif task.duration
        = distance_of_time_in_words_to_now(task.duration.to_i.seconds.ago)
      - else
        Not started

    .col-md-4
      .pull-right
        -# If the task has a started_at, show a pause button, because it's running
        = link_to pause_task_path(task), class: "pause_btn #{ show_pause_button?(task) } btn btn-default", format: :js, remote: true do
          %span.glyphicon.glyphicon-pause

        = link_to start_task_path(task), class: "play_btn #{ show_play_button?(task) } btn btn-default", format: :js, remote: true do
          %span.glyphicon.glyphicon-play

        = link_to complete_task_path(task), class: 'btn btn-success', format: :js, remote: true do
          %span.glyphicon.glyphicon-ok
        = link_to destroy_task_path(task), class: 'btn btn-danger', format: :js, remote: true, data: { confirm: 'Are you sure you want to delete this task?' } do
          %span.glyphicon.glyphicon-trash